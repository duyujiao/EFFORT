# ç±»å’Œå¯¹è±¡

C++é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ä¸ºï¼š<font color=red>å°è£…ã€ç»§æ‰¿ã€å¤šæ€</font>

C++è®¤ä¸ºä¸‡äº‹ä¸‡ç‰©éƒ½çš†ä¸ºå¯¹è±¡ï¼Œå¯¹è±¡ä¸Šæœ‰å…¶å±æ€§å’Œè¡Œä¸º

ä¾‹å¦‚ï¼š

äººå¯ä»¥ä½œä¸ºå¯¹è±¡ï¼Œå±æ€§æœ‰å§“åï¼Œå¹´é¾„ï¼Œèº«é«˜ï¼Œä½“é‡â€¦â€¦ï¼Œè¡Œä¸ºæœ‰èµ°ã€è·‘ã€è·³ã€åƒé¥­ã€å”±æ­Œâ€¦â€¦

è½¦å¯ä»¥ä½œä¸ºå¯¹è±¡ï¼Œå±æ€§æœ‰è½®èƒã€æ–¹å‘ç›˜ã€è½¦ç¯â€¦â€¦ï¼Œè¡Œä¸ºæœ‰è½½äººã€æ”¾éŸ³ä¹ã€æ”¾ç©ºè°ƒâ€¦â€¦

å…·æœ‰ç›¸åŒæ€§è´¨çš„å¯¹è±¡,æˆ‘ä»¬å¯ä»¥æŠ½è±¡ç§°ä¸ºç±»ï¼Œäººå±äºäººç±»ï¼Œè½¦å±äºè½¦ç±»

## 1.å°è£…

1.1å°è£…çš„æ„ä¹‰

ï¼ˆ1ï¼‰å°†å±æ€§å’Œè¡Œä¸ºä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¡¨ç°ç”Ÿæ´»ä¸­çš„äº‹ç‰©ã€‚

åœ¨è®¾è®¡ç±»çš„æ—¶å€™ï¼Œå±æ€§å’Œè¡Œä¸ºå†™åœ¨ä¸€èµ·ï¼Œè¡¨ç°äº‹ç‰©

è¯­æ³•ï¼šclass ç±»å{

è®¿é—®æƒé™ï¼šå±æ€§/è¡Œä¸º

}ï¼›

ï¼ˆ2ï¼‰å°†å±æ€§å’Œè¡Œä¸ºåŠ ä»¥æƒé™æ§åˆ¶



```c++
#include<iostream>
using namespace std;
const double PI=3.14;
//è®¾è®¡ä¸€ä¸ªåœ†ç±»ï¼Œæ±‚åœ†çš„å‘¨é•¿
//åœ†æ±‚å‘¨é•¿çš„å…¬å¼ï¼š2*PI*åŠå¾„
//classä»£è¡¨è®¾è®¡ä¸€ä¸ªç±»ï¼Œç±»åé¢ç´§è·Ÿç€çš„æ˜¯ç±»åå’Œ
class Circle
{
    //è®¿é—®æƒé™
    //å…¬å…±æƒé™
 public:
    //å±æ€§
    //åŠå¾„
    int m_r;
    //è¡Œä¸º
    //è·å–åœ†çš„å‘¨é•¿
    double calculateZC()  
    {
        return 2*PI*m_r 
    }
};
int main()
{
    //é€šè¿‡åœ†ç±» åˆ›å»ºå…·ä½“çš„åœ†ï¼ˆå¯¹è±¡ï¼‰
    //å®ä¾‹åŒ– ï¼ˆé€šè¿‡ä¸€ä¸ªç±» åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹ï¼‰
    Circle cl;
    //ç»™åœ†å¯¹è±¡ çš„å±æ€§è¿›è¡Œèµ‹å€¼
    cl.m_r=10;
    //2*PI*10=62.8
    cout<<"åœ†çš„å‘¨é•¿ä¸ºï¼š"<<cl.calculateZC()<<endl;
    system("pause");
    return 0;
}
```

```c++
#include<iostream>
using namespace std;
//è®¾è®¡ä¸€ä¸ªå­¦ç”Ÿç±»ï¼Œå±æ€§æœ‰å§“åå’Œå­¦å·
//å¯ä»¥ç»™å§“åå’Œå­¦å·å¤åˆ¶ï¼Œå¯ä»¥æ˜¾ç¤ºå­¦ç”Ÿçš„å§“åå’Œå­¦å·
//è®¾è®¡å­¦ç”Ÿç±»
class Student
{
    public://å…¬å…±æƒé™
    
    //ç±»ä¸­çš„å±æ€§å’Œè¡Œä¸º ç»Ÿç§°ä¸ºæˆå‘˜
    //å±æ€§ æˆå‘˜å±æ€§ æˆå‘˜å˜é‡
    //è¡Œä¸º æˆå‘˜å‡½æ•° æˆå‘˜æ–¹æ³•
    
    
    //å±æ€§
    string m_Name;//å§“å
    int ,m_Id;//å­¦å·
    //è¡Œä¸º
    //æ˜¾ç¤ºå§“åå’Œå­¦å·
    void showStudent()
    {
        cout<<"å§“åï¼š  "<<m_Name<<"å­¦å·ï¼š "<<m_Id<<endl;
    }
    //ç»™å§“åèµ‹å€¼
    void setName(string name)
    {
        m_Name=name;
    }
    //ç»™å­¦å·èµ‹å€¼
    void setId(int Id)
    {
        m_Id=Id;
    }
};
int main()
{
    //åˆ›å»ºä¸€ä¸ªå…·ä½“å­¦ç”Ÿï¼Œå®ä¾‹åŒ–å¯¹è±¡
    Student s1;
    //ç»™s1å¯¹è±¡ è¿›è¡Œå±æ€§èµ‹å€¼æ“ä½œ
    
    //s1.m_Name="æ˜å¿—";
    s1.setName("æ˜å¿—");
    
    //s1.m_Id=1;
    s1.setId(1);
    //æ˜¾ç¤ºå­¦ç”Ÿä¿¡æ¯
    s1.showStudent();
    
    
    Student s2;
    //ç»™s1å¯¹è±¡ è¿›è¡Œå±æ€§èµ‹å€¼æ“ä½œ
    s2.m_Name="ç‰";
    s2.m_Id=2;
    //æ˜¾ç¤ºå­¦ç”Ÿä¿¡æ¯
    s2.showStudent();
    system("pause");
    return 0;
}
```

## 2.å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†

### æ„é€ å‡½æ•°å’Œææ„å‡½æ•°

```c++
#include<iostream>
using namespace std;
//å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†
//1.æ„é€ å‡½æ•° è¿›è¡Œåˆå§‹åŒ–æ“ä½œ
class Person
{
    public:
    //1.æ„é€ å‡½æ•° è¿›è¡Œåˆå§‹åŒ–æ“ä½œ
    //æ²¡æœ‰è¿”å›å€¼ ä¸ç”¨å†™void
    //å‡½æ•°å ä¸ç±»åç›¸åŒ
    //æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥å‘ç”Ÿã€é‡è½½
    //åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œæ„é€ å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œè€Œä¸”åªä¼šè°ƒç”¨ä¸€æ¬¡
    Person()
    {
        cout<<"Personæ„é€ å‡½æ•°çš„è°ƒç”¨"<<endl;
    }
    //ææ„å‡½æ•° è¿›è¡Œæ¸…ç†æ“ä½œ
    //æ²¡æœ‰è¿”å›å€¼ ä¸ç”¨å†™void
    //å‡½æ•°å ä¸ç±»åç›¸åŒï¼Œåœ¨åç§°å‰åŠ ï½
    //ææ„å‡½æ•°ä¸å¯ä»¥æœ‰å‚æ•°çš„ï¼Œä¸å¯ä»¥å‘ç”Ÿé‡è½½
    //å¯¹è±¡åœ¨é”€æ¯å‰ ä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œè€Œä¸”åªä¼šè°ƒç”¨ä¸€æ¬¡
    ~Person()
    {
        cout<<"Personææ„å‡½æ•°çš„è°ƒç”¨"<<endl;
    }
};
//æ„é€ å’Œææ„éƒ½æ˜¯å¿…é¡»æœ‰çš„å®ç°ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå·±ä¸æä¾›ï¼Œç¼–è¯‘å™¨ä¼šæä¾›ä¸€ä¸ªç©ºå®ç°çš„æ„é€ å’Œææ„
void test01()
{
    Person p;//å±€éƒ¨å˜é‡ åœ¨æ ˆä¸Šçš„æ•°æ®ï¼Œtest01æ‰§è¡Œå®Œæ¯•åï¼Œé‡Šæ”¾è¿™ä¸ªå¯¹è±¡
}
int main()
{
    //test01();
    Person p;
    system("pause");
    return 0;
}
//ä¼šç¬é—´å‡ºç°ææ„å‡½æ•°
```

### æ„é€ å‡½æ•°çš„åˆ†ç±»åŠè°ƒç”¨

```c++
#include<iostream>
using namespace std;
//1.æ„é€ å‡½æ•°çš„åˆ†ç±»åŠè°ƒç”¨
//åˆ†ç±»
//æŒ‰ç…§ç±»å‹åˆ†ç±»    æ™®é€šæ„é€ å‡½æ•°å’Œæ‹·è´æ„é€ å‡½æ•°
//æŒ‰ç…§å‚æ•°åˆ†ç±»    æ— å‚æ„é€ ï¼ˆé»˜è®¤æ„é€ ï¼‰å’Œæœ‰å‚æ„é€ 
class Person
{
    public:
    //æ„é€ å‡½æ•°
    Person()
    {
        cout<<"Personçš„æ— å‚æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
    }
    Person(int a)
    {
        age=a;
        cout<<"Personçš„æœ‰å‚æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
    }
    //æ‹·è´æ„é€ å‡½æ•°
    Person(const Person &p)//æŒ‰ç…§å¼•ç”¨æ–¹å¼ä¼ é€’
    {
        //å°†ä¼ å…¥çš„äººèº«ä¸Šæ‰€æœ‰çš„å±æ€§ï¼Œæ‹·è´åˆ°æˆ‘èº«ä¸Š
        age=p.age;
        cout<<"Personçš„æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
    }
    ï½Person()
    {
        cout<<"Personçš„ææ„å‡½æ•°è°ƒç”¨"<<endl;
    }
    int age;
};
//è°ƒç”¨
void test01()
{
    //1.æ‹¬å·æ³•
    Person p1;//é»˜è®¤æ„é€ å‡½æ•°è°ƒç”¨ï¼Œtest01è°ƒç”¨å®Œä¹‹åè¿™ä¸ªå¯¹è±¡è¢«é‡Šæ”¾æ‰
    Person p2(10);//è°ƒç”¨æœ‰å‚æ„é€ å‡½æ•°
    Person p3(p2);//è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°
    
    //æ³¨æ„äº‹é¡¹
    //è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°æ—¶å€™ï¼Œä¸è¦åŠ ï¼ˆï¼‰
   //å› ä¸ºä¸‹é¢è¿™è¡Œä»£ç ï¼Œç¼–è¯‘å™¨ä¼šè®¤ä¸ºæ˜¯ä¸€ä¸ªå‡½æ•°çš„å£°æ˜,ä¸ä¼šè®¤ä¸ºåœ¨åˆ›å»ºå¯¹è±¡
    //Person p1();
    //void func();
    
    
    cout<<"p2çš„å¹´é¾„ä¸º"<<p2.age<<endl;
    cout<<"p3çš„å¹´é¾„ä¸º"<<p3.age<<endl;
    //2.æ˜¾ç¤ºæ³•
    Person p1;
    Person p2=Person(10);//æœ‰å‚æ„é€ 
    Person p3=Person(p2//æ‹·è´æ„é€ 
                     
    Person(10);//åŒ¿åå¯¹è±¡
    //ç‰¹ç‚¹ï¼šå½“å‰è¡Œæ‰§è¡Œç»“æŸåï¼Œç³»ç»Ÿä¼šç«‹å³å›æ”¶æ‰åŒ¿åå¯¹è±¡ï¼Œé©¬ä¸Šææ„
    cout<<"aaaa"<endl;
       //æ³¨æ„äº‹é¡¹2
       //ä¸è¦åˆ©ç”¨æ‹·è´æ„é€ å‡½æ•° åˆå§‹åŒ–åŒ¿åå¯¹è±¡ ç¼–è¯‘å™¨ä¼šè®¤ä¸ºPerson(p3)===Person p3;å¯¹è±¡çš„å£°æ˜
     Person(p3);
    //3.éšå¼è½¬æ¢æ³•
    Person p4=10;//ç›¸å½“äº å†™äº†Person p4=Person(10) æœ‰å‚æ„é€ 
    Person p5=p4;//æ‹·è´æ„é€ 
}
int main()
{
    test01;
    system("pause");
    return 0;
}
```

### æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº

C++ä¸­æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœºé€šå¸¸æœ‰ä¸‰ç§æƒ…å†µï¼š

1.ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡

2.å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼

3.ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡

```c++
#include<iostream>
using namespace std;
//æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº
//1.ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡
//2.å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼
//3.ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡
class Person
{
public:
 Person()
    {
        cout<<"Personçš„æ— å‚æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
    }
    Person(int age)
    {
 cout<<"Personçš„æœ‰å‚æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
        m_Age=age;
    }
    Person(const Person &p)
    {
       cout<<"Personçš„æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
        m_Age=p.m_Age;
    }
~Person()
    {
        cout<<"Personçš„ææ„å‡½æ•°è°ƒç”¨"<<endl;
    }
    int a_Age;
};
//1.ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡
void test01()
{
    Person p1(20);
    Person p2(p1);
    cout<<"p2çš„å¹´é¾„"<<p2.m_Age<<endl;
}

//2.å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼
void doWork(Person p)
{
    
}
void test02()
{
    Person p;
    doWork(p);
}
//3.ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡
Person doWork2()
{
    Person p1;
    cout<<(int*)&p1<<endl;
    return p1;
}
void test03()
{
    Person p=doWork2();
    cout<<(int*)&p<<endl;
}
int main()
{
    //test01();
    test02;
    system("pause");
    return 0;
}
```

### æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™

é»˜è®¤æƒ…å†µä¸‹ï¼Œc++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 3ä¸ªå‡½æ•°

1.é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰

2.é»˜è®¤ææ„å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰

3.é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´

æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™å¦‚ä¸‹ï¼š

å¦‚æœç”¨æˆ·å®šä¹‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œc++ä¸åœ¨æä¾›é»˜è®¤æ— å‚æ„é€ ï¼Œä½†æ˜¯ä¼šæä¾›é»˜è®¤æ‹·è´æ„é€ 

å¦‚æœç”¨æˆ·å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œc++ä¸ä¼šå†æä¾›å…¶ä»–æ„é€ å‡½æ•°

### æ·±æ‹·è´ä¸æµ…æ‹·è´

æ·±æ‹·è´ï¼šåœ¨å †åŒºé‡æ–°ç”³è¯·ç©ºé—´ï¼Œè¿›è¡Œæ‹·è´å·¥ä½œ

æµ…æ‹·è´ï¼šç®€å•çš„èµ‹å€¼æ‹·è´æ“ä½œ 

```c++
#include<iostream>
using namespace std;
//æ·±æ‹·è´å’Œæµ…æ‹·è´


class Person
{
    public:
    Person()
    {
        cout<<"Personçš„é»˜è®¤æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
    }
    Person(int age,int height)
    {
        m_Height=new int(height);//æŒ‡é’ˆæ¥æ”¶å †åŒºçš„æ•°æ®
        m_Age=age;
 cout<<"Personçš„æœ‰å‚æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
    }
    
    //è‡ªå·±å®ç°æ‹·è´æ„é€ å‡½æ•° è§£å†³æµ…æ‹·è´å¸¦æ¥çš„é—®é¢˜
   Person(const Person &p)
   {
       cout<<"Personæ‹·è´æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
       //å¦‚æœä¸åˆ©ç”¨æ·±æ‹·è´åœ¨å †åŒºåˆ›å»ºæ–°å†…å­˜ï¼Œä¼šå¯¼è‡´æµ…æ‹·è´å¸¦æ¥çš„é‡å¤é‡Šæ”¾å †åŒºé—®é¢˜
       m_Age=p.m_Age;
       //m_Height=p.m_Height;ç¼–è¯‘å™¨é»˜è®¤å®ç°å°±æ˜¯è¿™è¡Œä»£ç 
       //æ·±æ‹·è´æ“ä½œ
    m_Height=new int(*p.m_Height);
   }
    
    ~Person()
    {
        //ææ„ä»£ç ï¼Œå°†å †åŒºå¼€è¾Ÿæ•°æ®åšé‡Šæ”¾æ“ä½œ
        if(m_Height!=NULL)
        {
            delete m_Height;
            m_Height=NULL;
        }
        cout<<"Personçš„ææ„å‡½æ•°è°ƒç”¨"<<endl;
    }
    int m_Age;//å¹´é¾„
    int *m_Height;//èº«é«˜
};
void test01()
{
    Person p1(18,160);
    cout<<"p1çš„å¹´é¾„ä¸ºï¼š "<<p1.m_Age<<"èº«é«˜ä¸ºï¼š"<<*p1.m_Height<<endl;
    Person p2(p1);
    cout<<"p2çš„å¹´é¾„ä¸ºï¼š "<<p2.m_Age<<"èº«é«˜ä¸ºï¼š"<<*p2.m_Height<<endl;
}
    


int main()
{
    test01();
    
    system("pause");
    return 0;
}
```

æµ…æ‹·è´çš„é—®é¢˜ è¦åˆ©ç”¨æ·±æ‹·è´è¿›è¡Œè§£å†³

å¦‚æœå±æ€§æœ‰åœ¨å †åŒºå¼€è¾Ÿçš„ï¼Œä¸€å®šè¦è‡ªå·±æä¾›æ‹·è´æ„é€ å‡½æ•°ï¼Œé˜²æ­¢æµ…æ‹·è´å¸¦æ¥çš„é—®é¢˜

### åˆå§‹åŒ–åˆ—è¡¨

```c++
#include<iostream>
using namespace std;
//åˆå§‹åŒ–åˆ—è¡¨
class Person
{
    public:
    //ä¼ ç»Ÿåˆå§‹åŒ–æ“ä½œ
    //Person(int a,int b,int c)
    //{
    //   m_A=a;
    //   m_B=b;
    //   m_C=c;
    //}
    
    //åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–å±æ€§
    Person(int a,int b,int c):m_A(a),m_B(b),m_C(c)
    {
        
    }
    int m_A;
    int m_B;
    int m_C;
};

void test01()
{
    //Person p(10,20,30);
    Person p(30,20,10);
    cout<<"m_A="<<p.m_A<<endl;
    cout<<"m_B="<<p.m_B<<endl;
    cout<<"m_C="<<p.m_C<<endl;
}

int main()
{
    test01();
    system("pause");
    return 0;
}
```

### ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜

C++ç±»ä¸­çš„æˆå‘˜å¯ä»¥æ˜¯å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°è¯¥æˆå‘˜ä¸ºå¯¹è±¡æˆå‘˜

```c++
#include<iostream>
using namespace std;
#include <string.h>
//ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜
//æ‰‹æœºç±»
class Phone
{
    public:
    Phone(string pName)
    {
        cout<<"Phoneçš„æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
        m_PName=pName;
    }
    //æ‰‹æœºå“ç‰Œçš„åç§°
    string m_PName;
    ~Phone()
    {
        cout<<"Phoneçš„ææ„å‡½æ•°è°ƒç”¨"<<endl;
    }
};

//äººç±»
class Person
{
    public:
    //Phone m_Phone=pName éšå¼è½¬æ¢æ³•
    Person(string name,string pName):m_Name(name),m_Phone(pName)
    {
        cout<<"Personçš„æ„é€ å‡½æ•°è°ƒç”¨"<<endl;
    }
    //å§“å
    string m_Name;
    //æ‰‹æœº
    Phone m_Phone;
    ~Person()
    {
        cout<<"Personçš„ææ„å‡½æ•°è°ƒç”¨"<<endl;
    }
};


void test01()
{
    //å½“å…¶ä»–ç±»å¯¹è±¡ä½œä¸ºæœ¬ç±»æˆå‘˜ï¼Œæ„é€ æ—¶å€™è§æ„é€ ç±»å¯¹è±¡ï¼Œå†æ„é€ è‡ªèº«
    //ææ„çš„é¡ºåºï¼Ÿææ„é¡ºåºä¸æ„é€ ç›¸åï¼
    Person p("å¼ ä¸‰"ï¼Œ"è‹¹æœMAX");
    cout<<p.m_Name<<"æ‹¿ç€ï¼š"<<p.m_Phone.m_PName<<endl;
}

int main()
{
    test01;
    system("pause");
    return 0;
}
```

### é™æ€æˆå‘˜

é™æ€æˆå‘˜å°±æ˜¯åœ¨æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å‰å°±åŠ ä¸Šå…³é”®å­—static,ç§°ä¸ºé™æ€æˆå‘˜

é™æ€æˆå‘˜åˆ†ä¸ºï¼š

1.é™æ€æˆå‘˜å˜é‡

ï¼ˆ1ï¼‰æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®

ï¼ˆ2ï¼‰åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜

ï¼ˆ3ï¼‰ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–

2.é™æ€æˆå‘˜å‡½æ•°

ï¼ˆ1ï¼‰æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå‡½æ•°

ï¼ˆ2ï¼‰é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡

```c++
#include<iostream>
using namespace std;
//é™æ€æˆå‘˜å˜é‡
class Person
{
public:
    //ï¼ˆ1ï¼‰æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®
    //ï¼ˆ2)åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜
    //ï¼ˆ3ï¼‰ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–
    static int m_A;
    //é™æ€æˆå‘˜å˜é‡ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„
private:
    static int m_B;
};
int Person::m_A=100;//ç±»å¤–åˆå§‹åŒ–
int Person::m_B=200;
void test01()
{
    Person p;
    //100
    cout<<p.m_A<<endl;
    Person p2;
    p2.m_A=200;
    //200//æ‰€æœ‰å¯¹è±¡å…±äº«ä¸€ä»½æ•°æ®
    cout<<p.m_A<<endl;
}
void test02()
{
    //é™æ€æˆå‘˜å˜é‡ ä¸å±äºæŸä¸ªå¯¹è±¡ä¸Šï¼Œæ‰€æœ‰å¯¹è±¡éƒ½å…±äº«åŒä¸€ä»½æ•°æ®
    //å› æ­¤é™æ€æˆå‘˜å˜é‡æœ‰ä¸¤ç§è®¿é—®æ–¹å¼
    
    //1.é€šè¿‡å¯¹è±¡è¿›è¡Œè®¿é—®é™æ€æˆå‘˜å˜é‡
    //Person p;
    //cout<<p.m_A<<endl;
    
    //2.é€šè¿‡ç±»åè¿›è¡Œè®¿é—®é™æ€æˆå‘˜å˜é‡
    cout<<Person::m_A<<endl;
   //cout<<Person::m_B<<endl;//ç±»å¤–ä¸èƒ½è®¿é—®ç§æœ‰é™æ€æˆå‘˜å˜é‡
}
int main()
{
    //test01();
    test02();
    
    
    system("pause");
    return 0;
}
```

```c++
#include<iostream>
using namespace std;
//é™æ€æˆå‘˜å‡½æ•°
//ï¼ˆ1ï¼‰æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå‡½æ•°
//ï¼ˆ2ï¼‰é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡

class Person
{
public:
    //é™æ€æˆå‘˜å‡½æ•°
    static void func()
    {
        m_A=100;//é™æ€æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—® é™æ€æˆå‘˜å˜é‡
        //m_B=200;//é™æ€æˆå‘˜å‡½æ•°ä¸å¯ä»¥è®¿é—® éé™æ€æˆå‘˜å˜é‡ï¼Œæ— æ³•åŒºåˆ†åˆ°åº•æ˜¯å“ªä¸ªå¯¹è±¡çš„m_B
        cout<<"static void funcè°ƒç”¨"<<endl;
    }
    static int m_A;//é™æ€æˆå‘˜å˜é‡
    int m_B;//éé™æ€æˆå‘˜å˜é‡
    
    //é™æ€æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„
    private:
    static void func2()
    {
        cout<<"static void func2çš„è°ƒç”¨"<<endl;
    }
};
int Person::m_A=0;
//æœ‰ä¸¤ç§è®¿é—®æ–¹å¼
void test01()
{
    //é€šè¿‡å¯¹è±¡è®¿é—®
    Person p;
    p.func();
    //é€šè¿‡ç±»åè®¿é—®
    Person::func();
    //Person::func2();ç±»å¤–è®¿é—®ä¸åˆ°ç§æœ‰é™æ€æˆå‘˜å‡½æ•°
}
int main()
{
    test01();
    system("pause");
    return 0;
}
```

## 3. C++å¯¹è±¡æ¨¡å‹å’ŒthisæŒ‡é’ˆ

### æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åˆ†å¼€å­˜å‚¨

åœ¨C++ä¸­ï¼Œç±»å†…çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åˆ†å¼€å­˜å‚¨ï¼Œåªæœ‰éé™æ€æˆå‘˜å˜é‡æ‰å±äºç±»çš„å¯¹è±¡

```c++
#include<iostream>
using namespace std;
//æˆå‘˜å˜é‡ å’Œ æˆå‘˜å‡½æ•° åˆ†å¼€å­˜å‚¨çš„
class Person
{
    int m_A;//éé™æ€æˆå‘˜å˜é‡  å±äºç±»çš„å¯¹è±¡ä¸Š
    static int m_B;//é™æ€æˆå‘˜å˜é‡  ä¸å±äºç±»çš„å¯¹è±¡ä¸Š
    void func(){}f//éé™æ€æˆå‘˜å‡½æ•° ä¸å±äºç±»çš„å¯¹è±¡ä¸Š
    static void func(){}//é™æ€æˆå‘˜å‡½æ•° ä¸å±äºç±»çš„å¯¹è±¡ä¸Š
    
};
void test01;è€Œå®‹
{
    Person p;
    //ç©ºå¯¹è±¡å ç”¨çš„å†…å­˜ç©ºé—´ä¸ºï¼š1
    //C++ç¼–è¯‘å™¨ä¼šç»™æ¯ä¸ªç©ºå¯¹è±¡ä¹Ÿåˆ†é…ä¸€ä¸ªå­—èŠ‚ç©ºé—´ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†ç©ºå¯¹è±¡å å†…å­˜çš„ä½ç½®
    //æ¯ä¸ªç©ºå¯¹è±¡ä¹Ÿåº”è¯¥æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å†…å­˜åœ°å€
    cout<<"sizeof p= "<<sizeof(p)<<endl;
}
void test02()
{
    Person p;
    //4
  cout<<"sizeof p= "<<sizeof(p)<<endl;
}

int main()
{
    //test01();//çŸ¥é“ç©ºå¯¹è±¡å å¤šå¤§å†…å­˜
    test02();
    
    system("pause");
    return 0;
}
```

### thisæŒ‡é’ˆæ¦‚å¿µ

**thisæŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡**

thisæŒ‡é’ˆæ˜¯éšå«æ¯ä¸€ä¸ªéé™æ€æˆå‘˜å‡½æ•°å†…çš„ä¸€ç§æŒ‡é’ˆ

thisæŒ‡é’ˆä¸éœ€è¦å®šä¹‰ï¼Œç›´æ¥ä½¿ç”¨å³å¯

thisæŒ‡é’ˆçš„ç”¨é€”ï¼š

1.å½“å½¢å‚å’Œæˆå‘˜å‡½æ•°åŒåæ—¶ï¼Œå¯ç”¨thisæŒ‡é’ˆæ¥åŒºåˆ†

2.åœ¨ç±»çš„éé™æ€æˆå‘˜å‡½æ•°ä¸­è¿”å›å¯¹è±¡æœ¬èº«ï¼Œå¯ä»¥ä½¿ç”¨return *this

```c++
#iclude<iostream>
using namespace std;
class Person
{
    public:
    Person(int age){
        //thisæŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡
        this->age=age;
    }
    Person& PersonAddAge(Person &p){
        this->age+=p.age;
        //thisæŒ‡å‘p2çš„æŒ‡é’ˆï¼Œè€Œ*thisæŒ‡å‘çš„å°±æ˜¯p2è¿™ä¸ªå¯¹è±¡æœ¬ä½“
        return *this;
    }
    int age;//int m_Age;
};

//1,è§£å†³åç§°å†²çª
void test01()
{
    Person p1(18);
    cout<<"p1å¹´é¾„ä¸ºï¼š "<<p1.age<<endl;
}

//è¿”å›å¯¹è±¡æœ¬èº«ç”¨*this
void test02()
{
    Person p1(10);
    Person p2(10);
    //p2.PersonAddAge(p1)==p2
    //é“¾å¼ç¼–ç¨‹æ€æƒ³
    p2.PersonAddAge(p1).PersonAddAge(p1).PersonAddAge(p1);
    cout<<"p2çš„å¹´é¾„ä¸ºï¼š"<<p2.age<<endl;
}
int main()
{
    test01();
    test02();
    system("pause");
    return 0;
}
```

### ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°

C++ä¸­ç©ºæŒ‡é’ˆä¹Ÿæ˜¯å¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°çš„ï¼Œä½†æ˜¯ä¹Ÿè¦æ³¨æ„æœ‰æ²¡æœ‰ç”¨åˆ°thisæŒ‡é’ˆ

å¦‚æœç”¨åˆ°thisæŒ‡é’ˆï¼Œéœ€è¦åŠ ä»¥åˆ¤æ–­ä¿è¯ä»£ç çš„å¥å£®æ€§

```c++
#include<iostream>
using namespace std;
//ç©ºæŒ‡é’ˆè°ƒç”¨æˆå‘˜å‡½æ•°
class Person
{
    public:
    void showClassName(){
        cout<<"this is Person class"<<endl;
    }
    void showPersonAge(){
        //æŠ¥é”™åŸå› æ˜¯å› ä¸ºä¼ å…¥çš„æŒ‡é’ˆæ˜¯	NULL
        if(this==NULL)
        {
            return;
        }
        cout<<"age = "<<this->m_Age<<endl;//æ­¤æ—¶thisæ˜¯ç©ºæŒ‡é’ˆ
    }
    int m_Age;
};
void test01()
{
    Person* p=NULL;
    P->showPersonName(); 
    p->showPersonAge();
}
int main()
{
    test01();
    
    system("pause");
    return 0;
}
```

###  const  ä¿®é¥°æˆå‘˜å‡½æ•°

**å¸¸å‡½æ•°ï¼š**

æˆå‘˜å‡½æ•°åŠ conståæˆ‘ä»¬ç§°ä¸ºè¿™ä¸ªå‡½æ•°ä¸ºå¸¸å‡½æ•°

å¸¸å‡½æ•°å†…ä¸å¯ä»¥ä¿®æ”¹æˆå‘˜å±æ€§

æˆå‘˜å±æ€§å£°æ˜æ—¶åŠ å…³é”®å­—mutableåï¼Œåœ¨å¸¸å‡½æ•°ä¸­ä¾ç„¶å¯ä»¥ä¿®æ”¹

**å¸¸å¯¹è±¡ï¼š**

å£°æ˜å¯¹è±¡å‰åŠ constç§°è¯¥å¯¹è±¡ä¸ºå¸¸å¯¹è±¡

å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°

```c++
#include<iostream>
using namespace std;
//å¸¸å‡½æ•°
class Person
{
public:
    //thisæŒ‡é’ˆçš„æœ¬è´¨æ˜¯ æŒ‡é’ˆå¸¸é‡ æŒ‡é’ˆçš„æŒ‡å‘æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„
    //const Person*const this;
    //åœ¨æˆå‘˜å‡½æ•°åé¢åŠ const,ä¿®æ”¹çš„æ˜¯thisæŒ‡å‘ï¼Œè®©æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¹Ÿä¸å¯ä»¥ä¿®æ”¹
    void showPerson() const
    {
        this->m_B=100;
       //this->m_A=100;
        //this=NULL;//thisæŒ‡é’ˆä¸å¯ä»¥ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘çš„
    }
    void func(){
        m_A=100;//åœ¨è¿™ä¸ªæ™®é€šæˆå‘˜å‡½æ•°å‡½æ•°ä¸­å¯ä»¥ä¿®æ”¹å±æ€§
    }
    int m_A;
    mutable int m_B;//ç‰¹æ®Šå˜é‡ï¼Œå³ä½¿åœ¨å¸¸å‡½æ•°ä¸­ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹è¿™ä¸ªå€¼ï¼ŒåŠ å…³é”®å­—mutable
};
void test01()
{
    Person p;
    p.showPerson();
}
//å¸¸å¯¹è±¡
void test02()//å¸¸å¯¹è±¡ä¸å…è®¸ä¿®æ”¹å€¼
{
    const Person p;//åœ¨å¯¹è±¡å‰åŠ const,å˜ä¸ºé•¿åº¦å‘
    //p.m_A=100;
    p.m_B=100;//m_Bæ˜¯ç‰¹æ®Šå€¼ï¼Œåœ¨å¸¸å¯¹è±¡ä¸‹ä¹Ÿå¯ä»¥ä¿®æ”¹
    //å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°
    
    //p.func();//è¿™ä¸ªå¦‚æœè°ƒç”¨æˆåŠŸï¼Œå˜ç›¸çš„æŠŠå€¼å°±ä¿®æ”¹äº†
   p.showPerson()ï¼›
}

int main()
{
    test01();
    
    
    system("pause");
    return 0;
}
```

## 4.å‹å…ƒ

ç”Ÿæ´»ä¸­ä½ çš„å®¶æœ‰å®¢å…ï¼ˆPublic),æœ‰ä½ çš„å§å®¤ï¼ˆPrivate)

å®¢å…æ‰€æœ‰æ¥çš„å®¢äººéƒ½å¯ä»¥è¿›å»ï¼Œä½†æ˜¯ä½ çš„å§å®¤æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½å¯ä»¥è¿›å»

ä½†æ˜¯å‘¢ï¼Œä½ ä¹Ÿå¯ä»¥å…è®¸ä½ çš„å¥½æœ‹å‹å¥½é—ºèœœè¿›å»

åœ¨ç¨‹åºé‡Œï¼Œæœ‰äº›ç§æœ‰å±æ€§ ä¹Ÿæƒ³è®©ç±»å¤–ç‰¹æ®Šçš„ä¸€äº›å‡½æ•°æˆ–è€…ç±»è¿›è¡Œè®¿é—®ï¼Œå°±éœ€è¦ç”¨åˆ°å‹å…ƒçš„æŠ€æœ¯

å‹å…ƒçš„ç›®çš„å°±æ˜¯è®©ä¸€ä¸ªå‡½æ•°æˆ–è€…ç±» è®¿é—®å¦ä¸€ä¸ªç±»ä¸­çš„ç§æœ‰æˆå‘˜

å‹å…ƒçš„å…³é”®å­—æ˜¯ï¼š<font color=red>friend</font>

å‹å…ƒçš„ä¸‰ç§å®ç°ï¼š

**1.å…¨å±€å‡½æ•°åšå‹å…ƒ**

**2.ç±»åšå‹å…ƒ**

**3.æˆå‘˜å‡½æ•°åšå‹å…ƒ**

### å…¨å±€å‡½æ•°åšå‹å…ƒ

```c++
#include<iostream>
using namespace std;
#include<string>
//å»ºç­‘ç‰©ç±»
class Building
{
    //goodGayå…¨å±€å‡½æ•°æ˜¯Buildingå¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®Buildingä¸­ç§æœ‰æˆå‘˜
    friend void goodGay(Building *building);
    public:
    Building()
    {
        m_SittingRoom="å®¢å…";
        m_BedRoom="å§å®¤";
    }
    public:
    string m_SittingRoom;//å®¢å…
    private:
    string m_BedRoom;//å§å®¤
};
//å…¨å±€å‡½æ•°
void goodGay(Building *building)
{
    cout<<"å¥½åŸºå‹å…¨å±€å‡½æ•° æ­£åœ¨è®¿é—®ï¼š"<<building->m_SittingRoom<<endl;
     cout<<"å¥½åŸºå‹å…¨å±€å‡½æ•° æ­£åœ¨è®¿é—®ï¼š"<<building->m_BedRoom<<endl;
}
void test01()
{
    Building building;
    goodGay(&building);
}

int main()
{
    test01();
    system("pause");
    return 0;
}
```

### ç±»åšå‹å…ƒ

```c++
#include<iostranm>
using namespace std;
#include<string>
//ç±»åšå‹å…ƒ
class Building;
class GoodGay
{
  public:
    GoodGay();
    void visit();//å‚è§‚å‡½æ•°è®¿é—®Buildingä¸­çš„å±æ€§
    Building*building;
};
class Building
{
    //GoodGayç±»æ˜¯æœ¬ç±»çš„å¥½åŸºå‹ï¼Œå¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜
    friend class GoodGay;
public:
    Building();
    public:
    string m_SittingRoom;//å®¢å…
    private:
    string m_BedRoom;//å§å®¤
    
};
//ç±»å¤–å†™æˆå‘˜å‡½æ•°
Building::Building()
{
        m_SittingRoom="å®¢å…";
        m_BedRoom="å§å®¤";
}
GoodGay::GoodGay()
{
    //åˆ›å»ºå»ºç­‘ç‰©å¯¹è±¡
    building=new Building;
    
}
void GoodGay::visit()
{
 cout<<"å¥½åŸºå‹ç±» æ­£åœ¨è®¿é—®ï¼š"<<building->m_SittingRoom<<endl;
 cout<<"å¥½åŸºå‹ç±» æ­£åœ¨è®¿é—®ï¼š"<<building->m_BedRoom<<endl;
}
void test01()
{
    GoodGay gg;
    gg.visit();
}
int main()
{
    test01();
    
    
    
    system("pause");
    return 0;
}
```

### æˆå‘˜å‡½æ•°åšå‹å…ƒ

```c++
#include<iostranm>
using namespace std;
#include<string>
//æˆå‘˜å‡½æ•°åšå‹å…ƒ
class Building;
class GoodGay
{
  public:
    GoodGay();
    void visit();//è®©visitå‡½æ•°å¯ä»¥è®¿é—®Buildingä¸­ç§æœ‰æˆå‘˜
    void visit2();//è®©visit2å‡½æ•°ä¸å¯ä»¥è®¿é—®Buildingä¸­ç§æœ‰æˆå‘˜
    Building*building;
};

class Building
{
    //å‘Šè¯‰ç¼–è¯‘å™¨GoodGayç±»ä¸‹çš„visitæˆå‘˜å‡½æ•°ä½œä¸ºæœ¬ç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜
    friend void GoodGay::visit();
    
public:
    Building();
    public:
    string m_SittingRoom;//å®¢å…
    private:
    string m_BedRoom;//å§å®¤
    
};
//ç±»å¤–å†™æˆå‘˜å‡½æ•°
Building::Building()
{
        m_SittingRoom="å®¢å…";
        m_BedRoom="å§å®¤";
}
GoodGay::GoodGay()
{
    //åˆ›å»ºå»ºç­‘ç‰©å¯¹è±¡
    building=new Building;
    
} 
void GoodGay::visit()
{
 cout<<"visitå‡½æ•° æ­£åœ¨è®¿é—®ï¼š"<<building->m_SittingRoom<<endl;
 cout<<"visitå‡½æ•° æ­£åœ¨è®¿é—®ï¼š"<<building->m_BedRoom<<endl;
}
void GoodGay::visit2()
{
cout<<"visitå‡½æ•° æ­£åœ¨è®¿é—®ï¼š"<<building->m_SittingRoom<<endl;
}
void test01()
{
    GoodGay gg;
    gg.visit();
    gg.visit2();
}
int main()
{
    test01();
    system("pause");
    return 0;
}

```

## 5.è¿ç®—ç¬¦é‡è½½

è¿ç®—ç¬¦é‡è½½æ¦‚å¿µï¼šå¯¹å·²æœ‰çš„è¿ç®—ç¬¦é‡æ–°è¿›è¡Œå®šä¹‰ï¼Œèµ‹äºˆå…¶å¦ä¸€ç§åŠŸèƒ½ï¼Œä»¥é€‚ç”¨ä¸åŒçš„æ•°æ®ç±»å‹

### åŠ å·è¿ç®—ç¬¦é‡è½½

å¯¹äºå†…ç½®æ•°æ®ç±»å‹ï¼Œç¼–è¯‘å™¨çŸ¥é“å¦‚ä½•è¿›è¡Œè¿ç®—

```c++
int a=10;
int b=10;
int c=a+b;
```

ä½œç”¨ï¼šå®ç°ä¸¤ä¸ªè‡ªå®šä¹‰æ•°æ®ç±»å‹ç›¸åŠ çš„è¿ç®—

```c++
#include<iostream>
#include<string>
using namespace std;
//åŠ å·è¿ç®—ç¬¦é‡è½½

class Person
{
public:
 //1.æˆå‘˜å‡½æ•°é‡è½½+
 /*Person operator+(Person& p)
 {
  Person temp;
  temp.m_A = this->m_A + p.m_A;
  temp.m_B = this->m_B + p.m_B;
  return temp;
 }*/
 int m_A;
 int m_B;
};


//2.å…¨å±€å‡½æ•°é‡è½½+
Person operator+(Person& p1, Person& p2)
{
 Person temp;
 temp.m_A = p1.m_A + p2.m_A;
 temp.m_B = p1.m_B + p2.m_B;
 return temp;
}
//å‡½æ•°deé‡è½½ç‰ˆæœ¬
Person operator+(Person& p1, int num)
{
 Person temp;
 temp.m_A = p1.m_A + num;
 temp.m_B = p1.m_B + num;
 return temp;
}
void test01()
{
 Person p1;
 p1.m_A = 10;
 p1.m_B = 10;
 Person p2;
 p2.m_A = 10;
 p2.m_B = 10;
 //æˆå‘˜å‡½æ•°é‡è½½æœ¬è´¨è°ƒç”¨
 //Person p3 = p1.operator+(p2);
 //Person p3 = p1 + p2;//å¯ä»¥ç®€åŒ–æˆè¿™ç§å½¢å¼
 //å…¨å±€å‡½æ•°é‡è½½çš„æœ¬è´¨è°ƒç”¨
 //Person p3 = operator+(p1,p2);
 /*cout << p3.m_A << endl;
 cout << p3.m_B << endl;*/
 //è¿ç®—ç¬¦é‡è½½ä¹Ÿå¯ä»¥å‘ç”Ÿå‡½æ•°é‡è½½
 Person p3 = p1 + 10;
 cout << p3.m_A << endl;
 cout << p3.m_B << endl;
}
int main(void)
{
{
 test01();
 system("pause");
 return 0;
}
```

æ€»ç»“1ï¼šå¯¹äºå†…ç½®çš„æ•°æ®ç±»å‹çš„è¡¨è¾¾å¼çš„è¿ç®—ç¬¦æ˜¯ä¸å¯èƒ½æ”¹å˜çš„

æ€»ç»“2ï¼šä¸è¦æ»¥ç”¨è¿ç®—ç¬¦é‡è½½

### å·¦ç§»è¿ç®—ç¬¦

```c++
#include<iostream>
using namespace std;
class Person
{
 friend ostream& operator<<(ostream& cout, Person& p);
public:
 Person(int a, int b)
 {
  m_A = a;
  m_B = b;
 }
 //åˆ©ç”¨æˆå‘˜å‡½æ•°é‡è½½å·¦ç§»è¿ç®—ç¬¦p.operator<<(cout)ç®€åŒ–ç‰ˆæœ¬p<<cout
 //ä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šåˆ©ç”¨æˆå‘˜å‡½æ•°æ¥é‡è½½<<è¿ç®—ç¬¦ï¼Œä»¥ä¸ºæ— æ³•å®ç°coutåœ¨å·¦è¾¹
 /*void operator<<(ostream &cout,Person &p)
 {
  cout << p.m_A << endl;
  cout << p.m_B << endl;
 }*/
private:
 int m_A;
 int m_B;
};
//åªèƒ½åˆ©ç”¨å…¨å±€å‡½æ•°æ¥é‡è½½å·¦ç§»è¿ç®—ç¬¦
ostream& operator<<(ostream &cout, Person &p) //è¿™æ ·å†™çš„æœ¬è´¨å°±æ˜¯operator<<(cout,p)ç®€åŒ–ç‰ˆæœ¬å°±æ˜¯cout<<p; 
{
 cout <<"m_A= "<< p.m_A << endl;
 cout <<"m_B"<< p.m_B << endl;
 return cout;
}
void test()
{
 Person p(10,10);
 cout << p << "hello world" << endl;//é“¾å¼ç¼–æˆ
}
int main(void)
{
 test();
 system("pause");
 return 0;
}
```

æ€»ç»“ï¼šé‡è½½å·¦ç§»è¿ç®—ç¬¦é…åˆå‹å…ƒå¯ä»¥å®ç°è¾“å‡ºè‡ªå®šä¹‰æ•°æ®ç±»å‹

### é€’å¢è¿ç®—ç¬¦

ä½œç”¨ï¼šé€šè¿‡é‡è½½é€’å¢è¿ç®—ç¬¦ï¼Œå®ç°è‡ªå·±çš„æ•´å½¢æ•°æ®

 

```c++
#include<iostream>
using namespace std;
//é‡è½½è¿ç®—ç¬¦
class MyInteger
{
    friend ostream& operator<<(ostream& cout,MyInteger myint);
    public:
    MyInteger()
    {
        m_Num=0;
    }
    //é‡è½½++è¿ç®—ç¬¦---å‰ç½®
    //è¿”å›å¼•ç”¨æ˜¯ä¸ºäº†ä¸€ç›´å¯¹ä¸€ä¸ªæ•°æ®è¿›è¡Œé€’å¢æ“ä½œ
    MyInteger& operator++()
    {
        ++m_Num;
        return *this;
    } 
    //é‡è½½++è¿ç®—ç¬¦---åç½®
    MyInteger operator++(int)//è¿™ä¸ªintåœ¨è¿™é‡Œä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åŒºåˆ†å‰ç½®é€’å¢å’Œåç½®é€’å¢
    {
        MyInteger temp=*this;
        m_Num++;
        return temp;
        //åç½®é€’å¢è¦è¿”å›å€¼ï¼Œå› ä¸ºå¦‚æœè¿”å›å¼•ç”¨ï¼Œè¿™é‡Œç›¸å½“äºè¿”å›çš„æ˜¯ä¸€ä¸ªå±€éƒ¨å¯¹è±¡çš„å¼•ç”¨
        //å±€éƒ¨å¯¹è±¡åœ¨å½“å‰å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åå°±è¢«é‡Šæ”¾äº†ï¼Œè¿˜è¦è¿”å›å¼•ç”¨å°±æ˜¯éæ³•æ“ä½œ
    }
    private:
    int m_Num;
};
//å…¨å±€å‡½æ•°é‡è½½å·¦ç§»è¿ç®—ç¬¦
ostream& operator<<(ostream& cout,MyInteger myint)
{
    cout<<myint.m_Num<<endl;
    return cout;
}
void test()
{
    MyInteger myint;
    cout<<++(++myint);
    cout<<myint;
}
void test02()
{
    MyInteger myint;
    cout<<myint++<<endl;
    cout<<myint<<endl;
}


int main()
{
    //test();
    test02();
    
   // system("pause");
    return 0;
} 
```

### èµ‹å€¼è¿ç®—ç¬¦

C++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ å››ä¸ªå‡½æ•°

1.é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰

2.é»˜è®¤ææ„å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰

3.é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´

4.èµ‹å€¼è¿ç®—ç¬¦operator=,å¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´

å¦‚æœç±»ä¸­æœ‰å±æ€§æŒ‡å‘å †åŒºï¼Œåšèµ‹å€¼æ“ä½œæ—¶ä¹Ÿä¼šå‡ºç°æ·±æµ…æ‹·è´é—®é¢˜

```c++
#include<iostream>
using namespace std;

class Person
{
    public:
    Person(int age)
    {
        //å°†å¹´é¾„æ•°æ®å¼€è¾Ÿåœ¨å †åŒº
        m_Age=new int(age);
    }
    ~Person()
    {
        if(m_Age!=NULL)
        {
            delete m_Age;
            m_Age-NULL;
        }

    }
    //é‡è½½èµ‹å€¼è¿ç®—ç¬¦
    Person& operator=(Person &p)
    {
        //ç¼–è¯‘å™¨é»˜è®¤æä¾›çš„æ˜¯æµ…æ‹·è´æ“ä½œ
        //m_Age=p.m_age;
        //åº”è¯¥é¦–å…ˆåˆ¤æ–­æ˜¯å¦æœ‰å±æ€§åœ¨å †åŒºï¼Œå¦‚æœæœ‰å…ˆé‡Šæ”¾å¹²å‡€ï¼Œç„¶åå†è¿›è¡Œæ·±æ‹·è´
        if(m_Age!=NULL)
        {
            delete m_Age;
            m_Age-NULL;
        }
        //æ·±æ‹·è´æ“ä½œ
        m_Age=new int(*p.m_Age);
        //è¿”å›å¯¹è±¡æœ¬èº«
        return *this;
    }
//å¹´é¾„çš„æŒ‡é’ˆ
    int *m_Age;

};
void test01()
{
    Person p1(18);
    Person p2(20);
    Person p3(30);
    p3=p2=p1;
    cout<<*(p1.m_Age)<<endl;
    cout<<*(p2.m_Age)<<endl;
    cout<<*(p3.m_Age)<<endl;
    

}
int main()
{
test01();
    return 0;
}

```

### å…³ç³»è¿ç®—ç¬¦é‡è½½

ä½œç”¨ï¼šé‡è½½å…³ç³»è¿ç®—ç¬¦ï¼Œå¯ä»¥è®©ä¸¤ä¸ªè‡ªå®šä¹‰ç±»å‹å¯¹è±¡è¿›è¡Œå¯¹æ¯”æ“ä½œ

```c++
int a=10;
int b=10;
if(a==b)
{
    cout<<"aå’Œbç›¸ç­‰"<<endl;
}
Person p1;
Person p2;
if(p1==p2)
{
    cout<<"p1å’Œp2ç›¸ç­‰"<<endl;
}
if(p1!=p2)
{
    cout<<"p1å’Œp2ä¸ç›¸ç­‰"<<endl;
}
```

```c++
#include<iostream>
using namespace std;
#include<string>
class Person
{
    public:
    //é‡è½½==
    //è¿”å›çš„æ˜¯true false æ‰€ä»¥ç”¨bool
    bool operator==(Person &p)
    {
        if(this->m_Name==p.m_Name&&this->m_Age==p.m_Age){
            return true;
        }
        else
        return false;
    }
    //é‡è½½!=
    bool operator!=(Person &p)
    {
        if(this->m_Name==p.m_Name&&this->m_Age==p.m_Age){
            return false;
        }
        else
        return true;
    }
    Person(string name,int age)
    {
        m_Name=name;
        m_Age=age;
    }
    string m_Name;
    int m_Age;

};
void test()
{
    Person p1("duyujiao",18);
    Person p2("duyujiao",18);
    if(p1==p2){
        cout<<"p1å’Œp2æ˜¯ç›¸ç­‰çš„"<<endl;
    }
    else{
        cout<<"p1å’Œp2æ˜¯ä¸ç›¸ç­‰çš„"<<endl;
    }
    if(p1!=p2){
        cout<<"p1å’Œp2æ˜¯ä¸ç›¸ç­‰çš„"<<endl;
    }
    else{
        cout<<"p1å’Œp2æ˜¯ç›¸ç­‰çš„"<<endl;
    }
}
int main()
{

test();
    return 0;
}
```

### å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦

1.å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼ˆï¼‰ä¹Ÿå¯ä»¥é‡è½½

2.ç”±äºé‡è½½åä½¿ç”¨çš„æ–¹æ³•éå¸¸åƒå‡½æ•°çš„è°ƒç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°

3.ä»¿å‡½æ•°æ²¡æœ‰å›ºå®šå†™æ³•ï¼Œéå¸¸çµæ´»

```c++
#include<iostream>
using namespace std;
//å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½

//æ‰“å°è¾“å‡ºç±»
class MyPrint
{
    public:
    //é‡è½½å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦
    void operator()(string test)
    {
        cout<<test<<endl;
    }
};
void MyPrint02(string test)
{
    cout<<test<<endl;
}
void test01()
{
    MyPrint myPrint;
    myPrint("hello");//ç”±äºä½¿ç”¨èµ·æ¥éå¸¸ç±»ä¼¼äºå‡½æ•°è°ƒç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°
    MyPrint02("hello");
}
//ä»¿å‡½æ•°éå¸¸çµæ´»ï¼Œæ²¡æœ‰å›ºå®šçš„å†™æ³•
//åŠ æ³•ç±»
class MyAdd
{
    public:
    int operator()(int a,int b)
    {
        return a+b;
    }
};
void test02()
{
    MyAdd myadd;
    int ret=myadd(100,100);
    cout<<"ret= "<<ret<<endl;
    
    //åŒ¿åå‡½æ•°å¯¹è±¡---ç‰¹ç‚¹ï¼šå½“å‰è¡Œè¢«æ‰§è¡Œå®Œç«‹å³é‡Šæ”¾
    cout<<MyAdd()(100,100)<<endl;
}

int main()
{
   // test01();
    test02();
    return 0;
}
```

## 5.ç»§æ‰¿

## 6.å¤šæ€

### å¤šæ€çš„åŸºæœ¬è¯­æ³•

å¤šæ€åˆ†ä¸ºä¸¤ç§

- é™æ€å¤šæ€:å‡½æ•°é‡è½½å’Œè¿ç®—ç¬¦é‡è½½å±äºé™æ€å¤šæ€ï¼Œå¤ç”¨å‡½æ•°å
- åŠ¨æ€å¤šæ€:æ´¾ç”Ÿç±»å’Œè™šå‡½æ•°å®ç°è¿è¡Œæ—¶å¤šæ€

é™æ€å¤šæ€å’ŒåŠ¨æ€å¤šæ€çš„åŒºåˆ«

- é™æ€å¤šæ€çš„å‡½æ•°åœ°å€æ—©ç»‘å®š - ç¼–è¯‘é˜¶æ®µç¡®å®šå‡½æ•°åœ°å€

- åŠ¨æ€å¤šæ€çš„å‡½æ•°åœ°å€æ™šç»‘å®š - è¿è¡Œé˜¶æ®µç¡®å®šå‡½æ•°åœ°å€

  

  ```c++
  #include<iostream>
  using namespace std;
  class Animal
  {
  public:
  	//åŠ ä¸Švirtualå˜æˆè™šå‡½æ•°,å®ç°åœ°å€æ™šç»‘å®š
  	virtual void speak()
  	{
  		cout << "åŠ¨ç‰©åœ¨è¯´è¯"<< endl;
  	}
  };
  
  class Cat :public Animal
  {
  public:
  	void speak()
  	{
  		cout << "å°çŒ«åœ¨è¯´è¯" << endl;
  	}
  };	system("pause");
  
  class Dog : public Animal
  {
  public:
  	void speak()
  	{
  		cout << "å°ç‹—åœ¨è¯´è¯" << endl;
  	}
  };
  //æ‰§è¡Œè¯´è¯çš„å‡½æ•°
  //åœ°å€æ—©ç»‘å®šï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±ç¡®å®šå‡½æ•°åœ°å€
  //å¦‚æœæƒ³è®©çŒ«è¯´è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°çš„åœ°å€å°±ä¸èƒ½æå‰ç»‘å®šï¼Œéœ€è¦åœ¨è¿è¡Œé˜¶æ®µè¿›è¡Œç»‘å®š
  
  //åŠ¨æ€å¤šæ¡æ»¡è¶³æ¡ä»¶
  /*
  1.æœ‰ç»§æ‰¿å…³ç³»
  2.å­ç±»é‡å†™çˆ¶ç±»çš„è™šå‡½æ•°
  */
  //é‡å†™è¦æ±‚:å‡½æ•°è¿”å›å€¼ç±»å‹ å‡½æ•°å å‚æ•°åˆ—è¡¨ å®Œå…¨ç›¸åŒ 
  //åŠ¨æ€å¤šæ€çš„ä½¿ç”¨
  /*
  çˆ¶ç±»çš„æŒ‡é’ˆæˆ–è€…å¼•ç”¨ æŒ‡å‘å­ç±»çš„å¯¹è±¡//Animal &animal = cat;
  */
  
  void doSpeak(Animal &animal)//Animal &animal = cat;
  {
  	animal.speak();
  }
  void test01()
  {
  	Cat cat;
  	doSpeak(cat);
  	Dog dog;
  	doSpeak(dog);
  }
  int main(void)
  {
  	test01();
  	system("pause");
  	return 0;
  }
  
  
  ```

  **æ€»ç»“**ï¼š

  å¤šæ€æ»¡è¶³æ¡ä»¶

  - æœ‰ç»§æ‰¿å…³ç³»
  - å­ç±»é‡å†™çˆ¶ç±»ä¸­çš„è™šå‡½æ•°

  å¤šæ€çš„ä½¿ç”¨æ¡ä»¶

  - çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡

  **é‡å†™**:å‡½æ•°è¿”å›å€¼ç±»å‹ å‡½æ•°å å‚æ•°åˆ—è¡¨ å®Œå…¨ä¸€è‡´ç§°ä¸ºé‡å†™

### å¤šæ€çš„æ·±å…¥å‰–æ



- è™šå‡½æ•°ï¼ˆè¡¨ï¼‰æŒ‡é’ˆ

  

  > vfptr
  >     v - virtual
  >     f - function
  >     ptr - pointer

  è™šå‡½æ•°è¡¨

  > vftable
  >     v - virtual
  >
  > â€‹    f - function
  >
  > â€‹    table-table

![img](https://img-blog.csdnimg.cn/20210709154514422.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzUxNjA0MzMw,size_16,color_FFFFFF,t_70#pic_center)

### å¤šæ€çš„æ¡ˆä¾‹åˆ†æ1--è®¡ç®—å™¨ç±»

æ¡ˆä¾‹æè¿°:
åˆ†åˆ«åˆ©ç”¨æ™®é€šå†™æ³•å’Œå¤šæ€æŠ€æœ¯ï¼Œè®¾è®¡å®ç°ä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œè¿ç®—çš„è®¡ç®—å™¨ç±»ã€‚

å¤šæ€çš„ä¼˜ç‚¹ï¼š

ğŸ…°ä»£ç ç»„ç»‡ç»“æ„æ¸…æ™°

ğŸ…±å¯è¯»æ€§å¼º

Â©åˆ©äºå‰åå’ŒåæœŸçš„æ‰©å±•ä»¥åŠç»´æŠ¤

```c++
#include<iostream>
using namespace std;
#include<string>

//åˆ†åˆ«åˆ©ç”¨æ™®é€šå†™æ³•å’Œå¤šæ€æŠ€æœ¯å®ç°è®¡ç®—å™¨

//æ™®é€šå†™æ³•
class Calculator
{
    public:
    int getResult(string oper)
    {
        if(oper=="+"){
            return m_Num1+m_Num2;
        }
        else if(oper=="-"){
            return m_Num1-m_Num2;
        }
        else if(oper=="*"){
            return m_Num1*m_Num2;
        }
        //å¦‚æœæƒ³æ‰©å±•æ–°çš„åŠŸèƒ½ï¼Œéœ€è¦ä¿®æ”¹æºç 
        //åœ¨çœŸå®çš„å¼€å‘ä¸­ æå€¡ å¼€é—­åŸåˆ™
        //å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•è¿›è¡Œå¼€å‘ï¼Œå¯¹ä¿®æ”¹è¿›è¡Œå…³é—­
         
    }
    int m_Num1;//æ“ä½œæ•°1
    int m_Num2;//æ“ä½œæ•°2
};
void test01()
{
    //åˆ›å»ºè®¡ç®—å™¨å¯¹è±¡
    Calculator c;
    c.m_Num1=10;
    c.m_Num2=10;
    cout<<c.m_Num1<<"+"<<c.m_Num2<<"="<<c.getResult("+")<<endl;
    cout<<c.m_Num1<<"-"<<c.m_Num2<<"="<<c.getResult("-")<<endl;
    cout<<c.m_Num1<<"*"<<c.m_Num2<<"="<<c.getResult("*")<<endl;
}
//åˆ©ç”¨å¤šæ€å®ç°è®¡ç®—å™¨
//å¤šæ€å¥½å¤„ï¼š
//1.ç»„ç»‡ç»“æ„æ¸…æ™°
//2.å¯è¯»æ€§å¼º
//3.å¯¹äºå‰æœŸå’ŒåæœŸæ‰©å±•ä»¥åŠç»´æŠ¤æ€§é«˜

//å®ç°è®¡ç®—å™¨æŠ½è±¡ç±»
class AbstractCalculator
{
    public:
    virtual int getResult()
    {
        return 0;
    }
    int m_Num1;
    int m_Num2;
}; 
//åŠ æ³•è®¡ç®—å™¨ç±»
class AddCalculator:public AbstractCalculator
{
    public:
    int getResult()
    {
        return m_Num1+m_Num2;
    }
};
//å‡æ³•è®¡ç®—å™¨ç±»
class SubCalculator:public AbstractCalculator
{
    public:
    int getResult()
    {
        return m_Num1-m_Num2;
    }
};
//ä¹˜æ³•è®¡ç®—å™¨ç±»
class MulCalculator:public AbstractCalculator
{
    public:
    int getResult()
    {
        return m_Num1*m_Num2;
    }
};
void test02()
{
    //å¤šæ€ä½¿ç”¨æ¡ä»¶
    //çˆ¶ç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡
    
    //åŠ æ³•è¿ç®—
    AbstractCalculator*abc=new AddCalculator;
    abc->m_Num1=10;
    abc->m_Num2=10;
    cout<<abc->m_Num1<<"+"<<abc->m_Num2<<"="<<abc->getResult()<<endl; 
    //ç”¨å®Œåè®°å¾—é”€æ¯
    delete abc;
    
    //å‡æ³•è¿ç®—
    abc=new SubCalculator;
    abc->m_Num1=10;
    abc->m_Num2=10;
    cout<<abc->m_Num1<<"-"<<abc->m_Num2<<"="<<abc->getResult()<<endl; 
    delete abc;
    
    //ä¹˜æ³•è¿ç®—
    abc=new MulCalculator;
      abc->m_Num1=10;
    abc->m_Num2=10;
    cout<<abc->m_Num1<<"*"<<abc->m_Num2<<"="<<abc->getResult()<<endl; 
}
int main()
{
    //test01();
    test02();
    return 0;
}
```

**æ€»ç»“**ï¼šC++å¼€å‘æå€¡åˆ©ç”¨å¤šæ€è®¾è®¡ç¨‹åºæ¶æ„ï¼Œå› ä¸ºå¤šæ€ä¼˜ç‚¹å¾ˆå¤š

### çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»

åœ¨å¤šæ€ä¸­ï¼Œé€šå¸¸çˆ¶ç±»æ±‡ä¸­è™šå‡½æ•°çš„å®ç°æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œä¸»è¦éƒ½æ˜¯è°ƒç”¨å­ç±»é‡å†™çš„å†…å®¹ã€‚

å› æ­¤å¯ä»¥å°†è™šå‡½æ•°æ”¹ä¸ºçº¯è™šå‡½æ•°ã€‚

```
çº¯è™šå‡½æ•°è¯­æ³• ï¼švirtual è¿”å›å€¼ç±»å‹ å‡½æ•°å (å‚æ•°åˆ—è¡¨) = 0;
```

å½“ç±»ä¸­æœ‰äº†çº¯è™šå‡½æ•°ï¼Œè¿™ä¸ªç±»ä¹Ÿç§°ä¸ºæŠ½è±¡ç±»ã€‚

æŠ½è±¡ç±»ç‰¹ç‚¹:

1.æ— æ³•å®ä¾‹åŒ–å¯¹è±¡

2.å­ç±»å¿…é¡»é‡å†™æŠ½è±¡ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»

```c++
#include<iostream>
using namespace std;
//çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»
class Base
{
public:
    //çº¯è™šå‡½æ•°
	//åªè¦æœ‰ä¸€ä¸ªçº¯è™šå‡½æ•°,è¿™ä¸ªç±»ç§°ä¸ºæŠ½è±¡ç±»
	//æŠ½è±¡ç±»ç‰¹ç‚¹ï¼š
    //1.æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
    //2.æŠ½è±¡ç±»çš„å­ç±»å¿…é¡»è¦é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»
	virtual void func() = 0;//æ³¨æ„:ä¸è¦å¿˜æ‰virtual!
	
};
class Son :public Base
{
public:
	void func()
	{
		cout << "funcå‡½æ•°è°ƒç”¨" << endl;
	}
};
void test()
{
	//Base b; æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
    //new Base;//æŠ½è±¡ç±»æ˜¯æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	Son s;//å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	Base* abc = new Son;
	abc->func();
}
int main(void)
{
	test();
	return 0;
}

```

### å¤šæ€æ¡ˆä¾‹2--åˆ¶ä½œé¥®å“

æ¡ˆä¾‹æè¿°:åˆ¶ä½œé¥®å“çš„å¤§è‡´æµç¨‹ä¸º:ç…®æ°´-å†²æ³¡-å€’å…¥æ¯ä¸­-åŠ å…¥è¾…æ–™

åˆ©ç”¨å¤šæ€æŠ€æœ¯å®ç°æœ¬æ¡ˆä¾‹ï¼Œæä¾›æŠ½è±¡åˆ¶ä½œé¥®å“åŸºç±»ï¼Œæä¾›å­ç±»åˆ¶ä½œå’–å•¡å’ŒèŒ¶æ°´ã€‚

```c++
 #include<iostream>
using namespace std;
//å¤šæ€æ¡ˆä¾‹-åˆ¶ä½œé¥®å“
class AbstractDrinking
{
public:
	//ç…®æ°´
	virtual void Boil() = 0;
	//å†²æ³¡ 
	virtual void Brew() = 0;
	//å€’å…¥æ¯ä¸­
	virtual void Pour() = 0;	
	//åŠ å…¥è¾…æ–™
	virtual void PutSomething() = 0;
	//åˆ¶ä½œé¥®å“
	void makeDrink()
	{
		Boil();
		Brew();
		Pour();
		PutSomething();
	}
};
//åˆ¶ä½œå’–å•¡
class Coffee :public AbstractDrinking
{
public:
	//ç…®æ°´
	virtual void Boil()
	{
		cout << "æŠŠæ°´ç…®å¼€" << endl;
	}
	//å†²æ³¡ 
	virtual void Brew()
	{
		cout << "å†²æ³¡å’–å•¡" << endl;
	}
	//å€’å…¥æ¯ä¸­
	virtual void Pour()
	{
		cout << "å€’å…¥æ¯ä¸­" << endl;
	}
	//åŠ å…¥è¾…æ–™
	virtual void PutSomething()
	{
		cout << "åŠ å…¥ç³–å’Œç‰›å¥¶" << endl;
	}
};
//åˆ¶ä½œèŒ¶æ°´
class Tea :public AbstractDrinking
{
public:
	//ç…®æ°´
	virtual void Boil()
	{
		cout << "æŠŠçŸ¿æ³‰æ°´ç…®å¼€" << endl;
	}
	//å†²æ³¡ 
	virtual void Brew()
	{
		cout << "å†²æ³¡èŒ¶å¶" << endl;
	}
	//å€’å…¥æ¯ä¸­
	virtual void Pour()
	{
		cout << "å€’å…¥æ¯ä¸­" << endl;
	}
	//åŠ å…¥è¾…æ–™
	virtual void PutSomething()
	{ 
		cout << "åŠ å…¥æŸ æª¬" << endl;
	}
};
//åˆ¶ä½œå‡½æ•°
void DoWork(AbstractDrinking* abs)//çˆ¶ç±»æŒ‡é’ˆæŒ‡å‘å­ç±»å¯¹è±¡AbstractDrinking* abs = new Coffee;
{
	abs->makeDrink();
	delete abs;//æ‰‹åŠ¨é‡Šæ”¾
	//å †åŒºçš„æ•°æ®è¢«é”€æ¯äº†ä½†æ˜¯æŒ‡é’ˆçš„ç±»å‹æ²¡å˜
}
//åˆ¶ä½œ
void test()
{
	DoWork(new Coffee);
	cout << "------æˆ‘æ˜¯åˆ†å‰²çº¿------" << endl;
	DoWork(new Tea);
}
int main(void)
{
	test();
	return 0;
}


```

### è™šææ„å’Œçº¯è™šææ„

å¤šæ€ä½¿ç”¨çš„æ—¶å€™ï¼Œå¦‚æœå­ç±»ä¸­æœ‰å±æ€§å¼€è¾Ÿåˆ°å †åŒºï¼Œé‚£ä¹ˆçˆ¶ç±»æŒ‡é’ˆåœ¨é‡Šæ”¾çš„æ—¶æ— æ³•è°ƒç”¨åˆ°å­ç±»çš„ææ„ä»£ç 

è§£å†³æ–¹æ³•:å°†çˆ¶ç±»ä¸­çš„ææ„å‡½æ•°æ”¹ä¸º**è™šææ„**æˆ–è€…**çº¯è™šææ„**

è™šææ„å’Œçº¯ææ„å…±æ€§:

å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡

éƒ½éœ€è¦æœ‰å…·ä½“çš„å«å‡½æ•°å®ç°

è™šææ„å’Œçº¯è™šæ„çš„åŒºåˆ«ï¼šå¦‚æœæ˜¯çº¯è™šææ„ï¼Œè¯¥ç±»å±äºæŠ½è±¡ç±»ï¼Œæ— æ³•å®ä¾‹åŒ–å¯¹è±¡

è™šææ„è¯­æ³•ï¼š

```c++
virtual ~ç±»å()
{

}
```

çº¯è™šææ„è¯­æ³•

```c++
virtual ~ç±»å()=0ï¼›
ç±»åï¼šï¼šç±»å(){}
```



```c++
#include<iostream>
#include<string>
using namespace std;
//è™šææ„å’Œçº¯è™šææ„
class Animal
{
public:
	Animal()
	{
		cout << "Animalçš„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	//åˆ©ç”¨è™šææ„ å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å¯¹è±¡æ—¶ä¸å¹²å‡€çš„é—®é¢˜
	/*virtual ~Animal()
	{
		cout << "Animalçš„ææ„å‡½æ•°è°ƒç”¨" << endl;
	}*/
	//çº¯è™šææ„,éœ€è¦å£°æ˜ä¹Ÿéœ€è¦å®ç°
	//æœ‰äº†çº¯è™šææ„ä¹‹åï¼Œè¿™ä¸ªç±»ä¹Ÿå±äºæŠ½è±¡ç±»ï¼Œæ— æ³•å®ä¾‹åŒ–å¯¹è±¡	
	virtual ~Animal() = 0;
	//çº¯è™šå‡½æ•°ï¼Œä¸éœ€è¦å®ç°
	virtual void speak() = 0;
};
//çº¯è™šææ„å‡½æ•°
Animal::~Animal()
{
	cout << "Animalçº¯ææ„å‡½æ•°è°ƒç”¨" << endl;
}
class Cat :public Animal
{
public:
	Cat(string name)
	{
		m_Name = new string(name);
	}
	virtual void speak()
	{
		cout << "Catçš„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
		cout << *m_Name << "å°çŒ«åœ¨è¯´è¯" << endl;
	}
	~Cat()
	{
		if (m_Name != NULL)
		{
			cout << "Catçš„ææ„å‡½æ•°è°ƒç”¨" << endl;
			delete m_Name;
			m_Name = NULL;
		}
	}
	string* m_Name;
};
void test01()
{
	Animal* animal = new Cat("Tom");
	animal->speak();
	/*
	çˆ¶ç±»çš„æŒ‡é’ˆåœ¨ææ„çš„æ—¶å€™ï¼Œä¸ä¼šè°ƒç”¨å­ç±»ä¸­çš„ææ„å‡½æ•°ï¼Œ
	å¯¼è‡´å­ç±»å¦‚æœæœ‰å †åŒºå±æ€§ï¼Œä¼šå‡ºç°å†…å­˜çš„æ³„æ¼æƒ…å†µã€‚
	è§£å†³:å°†çˆ¶ç±»çš„ææ„å‡½æ•°æ”¹ä¸ºè™šææ„
	*/
	delete animal;
}
int main(void)
{
	test01();
	return 0;
}
```

**æ€»ç»“**:

1. è™šææ„æˆ–çº¯è™šææ„å°±æ˜¯ç”¨æ¥è§£å†³é€šè¿‡çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡é—®é¢˜
2. å¦‚æœå­ç±»ä¸­æ²¡æœ‰å †åŒºæ•°æ®ï¼Œå¯ä»¥ä¸å†™ä¸ºè™šææ„æˆ–çº¯è™šææ„
3. æ‹¥æœ‰çº¯è™šææ„å‡½æ•°çš„ç±»ä¹Ÿå±äºæŠ½è±¡ç±»
